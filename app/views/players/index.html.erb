<div>
  <form action="/players">
    <select name="price">
      <option value="all">Max Price</option>
      <% (39..140).to_a.map { |p| p.to_f / 10 }.each do |price| %>
      <option value="<%= price %>">Â£<%= price %>m</option>
      <% end %>
    </select>
    <select name="position">
      <option value="all">Position</option>
      <% ["GKP", "DEF", "MID", "FOR"].each do |pos| %>
      <option value="<%= pos %>"><%= pos %></option>
      <% end %>
    </select>
    <input type="submit">
  </form>
</div>

<div class="container">
  <table>
    <tr>
      <th>Rank</th>
      <th>Name</th>
      <th>Position</th>
      <th>Team</th>
      <th>Price</th>
      <th>Form</th>
      <th>% Selected</th>
      <th>Fixture Difficulty</th>
      <th>ICT Index</th>
    </tr>

    <% @ranked.first(10).each_with_index do |player, index| %>
    <tr class="<%= @ranked[index].home_team.short_name.downcase %>">
      <div class="player-info-row"><td><%= index + 1 %></td></div>
      <div class="player-info-row"><td><%= @ranked[index].web_name %></td></div>
      <div class="player-info-row"><td><%= @ranked[index].position %></td></div>
      <div class="player-info-row"><td><%= @ranked[index].home_team.short_name %></td></div>
      <div class="player-info-row"><td><%= @ranked[index].price %></td></div>
      <div class="player-info-row"><td><%= @ranked[index].form %></td></div>
      <div class="player-info-row"><td><%= @ranked[index].selected %>%</td></div>
      <div class="player-info-row"><td><%= @ranked[index].fixture_difficulty %></td></div>
      <div class="player-info-row"><td><%= @ranked[index].ict %></td></div>
    </tr>
    <% end %>
  </table>
</div>
